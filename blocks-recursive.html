<!DOCTYPE html>
<html>
<head>
  <title>blocks</title>
  <meta charset="UTF-8">
  <link rel="shortcut icon" href="files/favicon.png"/>
  <style>
    body {
      overflow: hidden;
      margin: 0;
      background-color: black;
    }

    div {
      position: absolute;
    }

    /*.leaf {*/
      /*z-index: 0;*/
      /*background-color: black;*/
      /*transition: z-index 0.2s, background-color 0.2s, transform 0.2s;*/
    /*}*/

    /*.leaf:hover {*/
      /*z-index: 1000;*/
      /*transform: scale(1.2, 1.2);*/
      /*background-color: lime;*/
    /*}*/
  </style>
</head>

<body>
</body>

<script src="libraries/natalie.js"></script>
<script src="libraries/randomColor.min.js"></script>

<script>
  // var windowWidth  = window.innerWidth;
  // var windowHeight = window.innerHeight;

  // var columns = randomIntegerInclusive(1, 5);
  // var rows    = randomIntegerInclusive(1, 5);

  recursiveGrid(document.body, 3, 3, 3);

  function recursiveGrid(parent, columns, rows, depth) {
    for (var i = 0; i < columns; i++) {
      for (var j = 0; j < rows; j++) {
        var currentDepth = depth;

        var div = document.createElement("div");

        div.style.width  = 100 / columns + "%";
        div.style.height = 100 / rows + "%";
        div.style.left   = i * 100 / columns + "%";
        div.style.top    = j * 100 / rows + "%";

        if (currentDepth == 1) {
          div.className = "leaf";
        } else {
          currentDepth--;
          // recursiveGrid(div, columns, rows, currentDepth);
          // recursiveGrid(div, randomIntegerInclusive(1, columns), randomIntegerInclusive(1, rows), currentDepth);
          var levels = randomIntegerInclusive(1, columns);
          recursiveGrid(div, levels, levels, currentDepth);
        }

        parent.appendChild(div);
      }
    }
  }

  var leaves = document.getElementsByClassName("leaf");
  var hue = randomItem(["red", "orange", "yellow", "green", "blue", "purple", "pink", "monochrome"]);

  for (var i = 0; i < leaves.length; i++) {
    // var colorOff = randomColor({hue: hue});
    // var colorOn  = randomColor({hue: hue});

    leaves[i].style.backgroundColor = randomColor({hue: hue});

    leaves[i].onmouseover = function() {
      this.style.backgroundColor = randomColor({hue: hue});
    }

    leaves[i].onmouseout = function() {
      // this.style.backgroundColor = randomColor({hue: hue});
    }
  }
</script>
</html>