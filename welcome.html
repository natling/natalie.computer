<!DOCTYPE html>
<html>

<head>
  <title>welcome</title>
  <meta charset="UTF-8">
  <link rel="shortcut icon" href="files/favicon.png"/>
  <style>
    body {
      margin: 0px;
      width: 100vw;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      background: black;
    }

    p {
      position: absolute;
      margin: 0px;
      text-align: center;
      font-family: 'Courier';
      font-style: italic;
      font-size: 200px;
      letter-spacing: 50px;
      transition: transform 0.1s, color 0.1s;
      mix-blend-mode: color-dodge;
      filter: blur(3px);
    }

    @keyframes blink {
      from { opacity: 0; }
      to   { opacity: 1; }
    }

    .cursor {
      animation: blink 0.5s ease infinite alternate;
    }
  </style>
</head>

<body>
</body>

<script src="libraries/natalie.js"></script>

<script>
  var content = 'welcome home';

  var colors = ['#ff0000', '#00ff00', '#0000ff'];

  var jitter = {
    x : 10,
    y :  3,
  };

  for (var i = 0; i < 10; i++) {
    (function(i) {
      var p = document.createElement('p');
      document.body.appendChild(p);

      var text = document.createElement('span');
      p.appendChild(text);
      text.className = 'text';

      var cursor = document.createElement('span');
      p.appendChild(cursor);
      cursor.className = 'cursor';
      cursor.innerHTML = '|';

      style();
      setTimeout(type, 1000);

      function style() {
        var x = randomIntegerInclusive(-jitter.x, jitter.x);
        var y = randomIntegerInclusive(-jitter.y, jitter.y);
        p.style.transform = 'translate(' + x + 'px, ' + y + 'px)';

        p.style.color = randomItem(colors);

        var delay = randomIntegerInclusive(100, 200);

        setTimeout(style, delay);
      }

      function type() {
        if (text.innerHTML.length < content.length) {
          text.innerHTML = content.slice(0, text.innerHTML.length + 1);

          var delay = randomIntegerInclusive(100, 200);

          setTimeout(type, delay);
        }
      }
    })(i);
  }
</script>

</html>