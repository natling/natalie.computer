<!DOCTYPE html>
<html>

<head>
  <title>dogs</title>
  <meta charset="UTF-8">
  <link rel="shortcut icon" href="files/favicon.png"/>
  <style>
  	body {
      margin: 0;
      background-color: black;
    }

    table {
      position: absolute;
      width: 100%;
      height: 100%;
      border-spacing: 0px;
    }

    td {
      padding: 0px;
      background-image: url('files/dogs-2.jpg');
      background-size: 2000px;
      transition-property: background-position;
      transition-duration: 4s;
      transition-timing-function: linear;
    }
  </style>
</head>

<body>
</body>

<script src="libraries/natalie.js"></script>

<script>
  var rows    = 5;
  var columns = 5;

  createTable(rows, columns);

  function createTable(rows, columns) {
    var table = document.createElement('table');

    for (var i = 0; i < rows; i++) {
      var tr = document.createElement('tr');

      for (var j = 0; j < columns; j++) {
        var td = document.createElement('td');

        tr.appendChild(td);
      }

      table.appendChild(tr);
    }

    document.body.appendChild(table);
  }

  var cells = document.getElementsByTagName('td');

  for (var i = 0; i < cells.length; i++) {
    (function(i) {
      randomPosition();
      cyclePosition();

      function randomPosition() {
        var x = randomFloat(0, 100);
        var y = randomFloat(0, 100);
        cells[i].style.backgroundPosition = x + '% ' + y + '%';
      }

      function cyclePosition() {
        var duration = randomFloat(1, 4) * 1000;

        setTimeout(randomPosition, 0);
        setTimeout(cyclePosition, duration);
      }
    })(i);
  }
</script>

</html>