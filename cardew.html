<!DOCTYPE html>
<html>

<head>
  <title>treatise</title>
  <meta charset="UTF-8">
  <link rel="shortcut icon" href="files/favicon.png"/>
  <style>
    body {
      margin: 0px;
      width: 100vw;
      height: 100vh;
      overflow: hidden;
      transition: background 4s linear;
    }

    div {
      position: absolute;
      width: 100%;
      height: 100%;
      opacity: 0;
      mix-blend-mode: difference;
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
      transition: opacity 4s linear;
    }
  </style>
</head>

<body>
</body>

<script src="libraries/natalie.js"></script>

<script>
  shuffleArray(Array.from({length: 194}, (_, i) => `files/treatise/${(i + 1).toString().padStart(3, '0')}.jpg`)).forEach((page, i) => {
    const div = document.createElement('div');
    document.body.appendChild(div);
    div.style.backgroundImage = `url(${page})`;

    setTimeout(() => {
      document.body.style.background = i % 2 == 0 ? 'white' : 'black';
      div.style.opacity = 1;
    }, i * 4000 + 10);
  });
</script>

</html>